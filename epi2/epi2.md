<h3><center>基本概念</center></h3>

-------

#### 2.1 环境
在ANSI C的任何一种实现中存在两种不同的环境
</br>
一种是**翻译环境(translation environment)**，在这个环境源代码被转换为可执行的机器指令。
</br>
一种是**执行环境(execution environment)**，用于实际执行代码

#### 2.1.1 翻译
翻译过程：编辑源文件->对源文件进行编译->对编译好的目标文件和链接器捆绑到一起->形成可执行程序
</br>
编译过程： **预处理器(preprocessor)** 处理-> **源代码解析(parse)** 处理->产生目标代码( **优化器(optimizer)** 会对目标代码进一步处理)

#### 2.1.2 执行
程序必须载入到内存中(具有操作系统由操作系统执行)，无操作系统时必须手动载入


------------

在 C 语言的翻译过程中，通常的顺序是：

预处理（Preprocessing）：
这一步会处理所有的宏定义（#define）、头文件包含（#include）以及条件编译（#if）等指令。预处理器生成一个扩展后的 C 代码，这个阶段的产物是一个没有预处理指令的纯 C 源代码。

编译（Compilation）：
在这一阶段，编译器将预处理后的 C 代码转换成汇编语言代码。编译器主要做语法分析、语义分析、优化等工作。最终生成的是与特定平台相关的汇编代码文件（通常以 .s 为后缀）。

汇编（Assembly）：
汇编器将编译生成的汇编代码转换成机器码，生成目标文件（通常以 .o 或 .obj 为后缀）。目标文件包含机器指令，但没有完整的可执行程序所需的所有内容。

链接（Linking）：
链接器将多个目标文件和库文件合并，解决符号（如函数和变量的地址）之间的依赖关系，最终生成可执行文件（如 .exe 或没有后缀的文件）。如果有外部库函数或其他目标文件，链接器会将它们合并成一个完整的可执行程序。

总结起来，C 语言的翻译过程是：

预处理

编译（生成汇编代码）

汇编（生成目标文件）

链接（生成可执行文件）

所以，是先编译再汇编，然后通过汇编生成目标文件，最后由链接器生成可执行程序。

-----

#### 2.2 词法规则
词法规则就是**标记(token)** 

#### 2.2.1 字符

使用**转义序列(escape sequence)**和**字符转义(character escape)** 对上下文环境中特定字符表示

常见的有`\? \" \' \\`和`\a \b \f \n \r \t \v `

用于表示八进制和十六进制的转义符有
`\ddd \xddd`

#### 2.2.2 注释
注意跨越多行的注释

#### 2.2.3 自由形式的源代码
c格式相对自由，相邻的标记之间有一个或多个空白

#### 2.2.4 标识符(identifier)
标识符就是变量、函数、类型等的名字，由大小写字母、数字和下划线组成，不能以数字开头。有**32**个关键字

#### 2.2.5 程序的形式
一个C程序的源文件应该包含一组相关的函数，这是C程序较为合理的组织形式。

-------
#### 2.3 程序风格
C 语言程序风格（Coding Style）是指在编写 C 语言代码时，为了提高可读性、可维护性和可扩展性而遵循的一些规范和约定。良好的程序风格可以让代码更加清晰，减少错误，并便于团队协作。以下是一些常见的 C 语言编程风格规范：

##### 1. 代码缩进
使用统一的缩进风格。常见的缩进方法有**空格缩进**（通常是 4 个空格）和 **制表符缩进**（Tab 键）。

推荐： 一般来说，现代 C 编程习惯推荐使用 4 个空格进行缩进，避免混用空格和制表符。

~~~
int main(){
    if(condition){
        // statements
    }
}
~~~

##### 2. 大括号风格
K&R风格（Kernighan & Ritchie）和 Allman风格 是常见的大括号样式。建议选择一致的风格。

推荐： K&R 风格通常更简洁，常用于 C 语言。即大括号 "{}" 在同一行。

示例（K&R 风格）：
~~~
if(condition){
    // 代码块
} else {
    // 代码块
}
~~~

##### 3.命名规范
变量、函数、宏、结构体等命名应有一致性，且能清楚地表达含义。

推荐：

变量使用小写字母，单词之间用下划线分隔，如 int total_count;。

函数使用小写字母，多个单词之间使用下划线分隔，如 int calculate_area(int width, int height);。

宏常量使用全大写字母，单词之间用下划线分隔，如 #define MAX_BUFFER_SIZE 1024。

结构体和 类型常使用大写开头的驼峰式命名，如 typedef struct Student Student;。

#### 2.4 总结
- 一个C程序的代码保存在一个或多个源文件中，但一个函数只能完整地出现在同一个源文件中。把相关函数放在同一个文件内是一种好策略。
- 